### 获取用户信息

[GET] /v1/user/profile

获取用户的详细信息资料

### 更新用户信息

[PUT] /v1/user/profile

| 参数              | 类型     | 说明                                                                                                                                                                   | 必选 |
| ----------------- | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---- |
| username          | `string` | 用户登陆名, 某些用户可以重命名自己的登陆名。例如微信注册的帐号                                                                                                         |      |
| nickname          | `string` | 用户昵称                                                                                                                                                               |      |
| gender            | `string` | 用户性别                                                                                                                                                               |      |
| avatar            | `string` | 用户头像 URL                                                                                                                                                           |      |
| wechat            | `object` | 更新微信绑定的相关信息<br/> 由于绑定微信后，还没有拿到微信的昵称/性别等信息。所以需要客户端手动调用更新信息<br/>相关的信息由微信小程序接口接口 `wx.getUserInfo()` 获得 |      |
| wechat.nickname   | `string` | 微信昵称                                                                                                                                                               |      |
| wechat.avatar_url | `string` | 微信头像 URL                                                                                                                                                           |      |
| wechat.gender     | `int`    | 性别                                                                                                                                                                   |      |
| wechat.country    | `string` | 国家                                                                                                                                                                   |      |
| wechat.province   | `string` | 省份                                                                                                                                                                   |      |
| wechat.city       | `string` | 城市                                                                                                                                                                   |      |
| wechat.language   | `string` | 语言                                                                                                                                                                   |      |

### 修改登陆密码

[PUT] /v1/user/password

| 参数          | 类型     | 说明   | 必选 |
| ------------- | -------- | ------ | ---- |
| old_passworld | `string` | 旧密码 | \*   |
| new_password  | `string` | 新密码 | \*   |

### 设置二级密码

[POST] /v1/user/password2

| 参数             | 类型     | 说明         | 必选 |
| ---------------- | -------- | ------------ | ---- |
| password         | `string` | 二级密码     | \*   |
| password_confirm | `string` | 二级密码确认 | \*   |

### 修改二级密码

[PUT] /v1/user/password2

| 参数         | 类型     | 说明       | 必选 |
| ------------ | -------- | ---------- | ---- |
| old_password | `string` | 旧二级密码 | \*   |
| new_password | `string` | 新二级密码 | \*   |

### 发送重置二级密码的邮件/短信

[POST] /v1/user/password2/reset

如果用户有手机，则发送手机验证码，如果有邮箱，则发送邮件

### 重置二级密码

[PUT] /v1/user/password2/reset

| 参数         | 类型     | 说明             | 必选 |
| ------------ | -------- | ---------------- | ---- |
| code         | `string` | 二级密码的重置码 | \*   |
| new_password | `string` | 新二级密码       | \*   |

### 邀请列表

[GET] /v1/user/invite

获取我的邀请列表

### 邀请详情

[GET] /v1/user/invite/:invite_id

| 参数      | 类型     | 说明          | 必选 |
| --------- | -------- | ------------- | ---- |
| invite_id | `string` | 邀请数据的 ID | \*   |

### 上传头像

[POST] /v1/user/avatar

头像上传为 Form 表单

| 参数 | 类型   | 说明                                  | 必选 |
| ---- | ------ | ------------------------------------- | ---- |
| file | `file` | 要上传的头像图片，仅支持 jpg/jpeg/png | \*   |

### 发送邮箱验证码

[POST] /v1/user/auth/email

发送邮箱验证码至用户绑定的邮箱

### 发送手机验证码

[POST] /v1/user/auth/phone

发送短信验证码至用户绑定的手机号

### 绑定邮箱

[POST] /v1/user/bind/email

绑定用户的邮箱，在用户没有绑定有邮箱时可以调用

| 参数  | 类型     | 说明                                            | 必选 |
| ----- | -------- | ----------------------------------------------- | ---- |
| email | `string` | 要绑定的邮箱                                    | \*   |
| code  | `string` | 邮箱收到的验证，调用 `/v1/auth/code/email` 发送 | \*   |

### 解绑邮箱

[DELETE] /v1/user/unbind/email

解除绑定邮箱

| 参数 | 类型     | 说明                                            | 必选 |
| ---- | -------- | ----------------------------------------------- | ---- |
| code | `string` | 邮箱收到的验证，调用 `/v1/auth/code/email` 发送 | \*   |

### 绑定手机

[POST] /v1/user/bind/phone

绑定用户的手机，在用户没有绑定有手机时可以调用

| 参数  | 类型     | 说明                                            | 必选 |
| ----- | -------- | ----------------------------------------------- | ---- |
| phone | `string` | 要绑定的手机                                    | \*   |
| code  | `string` | 手机收到的验证，调用 `/v1/user/auth/phone` 发送 | \*   |

### 解绑手机

[DELETE] /v1/user/unbind/phone

| 参数 | 类型     | 说明                                            | 必选 |
| ---- | -------- | ----------------------------------------------- | ---- |
| code | `string` | 手机收到的验证，调用 `/v1/user/auth/phone` 发送 | \*   |

### 绑定微信

[POST] /v1/user/bind/phone

绑定微信小程序帐号，绑定后可直接用小程序登陆

| 参数 | 类型     | 说明                                          | 必选 |
| ---- | -------- | --------------------------------------------- | ---- |
| code | `string` | 微信小程序调用 `wx.login()` 之后，返回的 code | \*   |

### 解绑微信

[DELETE] /v1/user/unbind/wechat

| 参数 | 类型     | 说明                                                                                                                                                                        | 必选 |
| ---- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---- |
| code | `string` | 验证码，如果帐号已绑定手机，则为手机号收到的验证码（`/v1/user/auth/phone`），如果有为邮箱，则用邮箱收到的验证码（`/v1/user/auth/email`），否则使用 `wx.login()` 返回的 code | \*   |
